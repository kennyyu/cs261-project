client <-> server socket protocol:

Line-oriented except for blobs as noted. Lines are terminated with
\r\n. The maximum line length is 4096. The current limit on the size
of a longquery is 1000 lines. Words are case-sensitive.

The current protocol version is 0.

Requests from client:

   shutdown

   query query-text

   longquery
   query-text
   query-text
   .

Responses from server:
   100 nnnnn ready banner		(nnnnn is the protocol version)

   101 nnnnn byte result block
   [followed immediately by blob of size nnnnn]

   300 nnnnn compile diagnostics	(nnnnn lines of messages)
   message
   message
   .
   (followed by another response)

   500 protocol syntax error

   550 compile error
